{"mappings":"AAEA,MAAMA,EAAYC,SAASC,cAAc,aACnCC,EAAgBF,SAASC,cAAc,iBACvCE,EAAiBH,SAASC,cAAc,UACxCG,EAAmBJ,SAASC,cAAc,WAuBhD,SAASI,EAAsBC,GAC7BP,EAAUQ,UAER,2BAA2BD,EAAIE,iBAAiBF,EAAIG,OAAO,GAAGC,uCAAuCJ,EAAIG,OAAO,GAAGE,qBAAqBL,EAAIG,OAAO,GAAGG,uB,CAc1J,SAASC,IACPT,EAAiBU,UAAUC,OAAO,Y,CAGpC,SAASC,IACPZ,EAAiBU,UAAUG,IAAI,Y,CAGjC,SAASC,IACPf,EAAeW,UAAUC,OAAO,Y,CA/ClCF,ICDSM,MAAM,qHAA4CC,MAAKC,GAC5DA,EAASC,SDEVF,MASH,SAA4BG,GAC1B,IAAIC,EAAe,GAEnB,IAAK,MAAMC,GAAEA,EAAEf,KAAEA,KAAUa,EACzBC,GAAgB,kBAAkBC,MAAOf,aAG3C,OAAOR,EAAcwB,mBAAmB,YAAaF,E,IAfpDG,MAAMT,GACNU,SAAQ,KACPZ,IAsDFd,EAAcY,UAAUC,OAAO,YArDjB,IAGhBb,EAAc2B,iBAAiB,SAkB/B,WAwBE1B,EAAeW,UAAUG,IAAI,aAtB7BJ,IA0BAd,EAAUQ,UAAY,ICnDQuB,ED4BdC,MAAMC,OAAOC,MC3BtBd,MACL,wDAAuCW,mFAEtCV,MAAKC,GAAYA,EAASC,SAC1BF,MAAKd,GAAOA,EAAI,MDwBhBc,KAAKf,GACLsB,MAAMT,GACNU,QAAQZ,GC/BN,IAAyBc,C","sources":["src/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst catInfoEl = document.querySelector('.cat-info');\nconst breedSelectEl = document.querySelector('.breed-select');\nconst errorMessageEl = document.querySelector('.error');\nconst loadingMEssageEl = document.querySelector('.loader');\n\nstartLoading();\nfetchBreeds()\n  .then(makeMarkupCatsList)\n  .catch(showError)\n  .finally(() => {\n    endLoading();\n    showSelect();\n  });\n\nbreedSelectEl.addEventListener('input', onSelectedCat);\n\nfunction makeMarkupCatsList(cats) {\n  let markupString = '';\n\n  for (const { id, name } of cats) {\n    markupString += `<option value=\"${id}\">${name}</option>`;\n  }\n\n  return breedSelectEl.insertAdjacentHTML('beforeend', markupString);\n}\n\nfunction makeMarkupSelectedCat(cat) {\n  catInfoEl.innerHTML =\n    ('beforeend',\n    `<img width=\"500px\" src='${cat.url}'><div><h2>${cat.breeds[0].name}</h2><p class='cat-description'>${cat.breeds[0].description}</p><p>${cat.breeds[0].temperament}</p></div>`);\n}\n\nfunction onSelectedCat() {\n  hideError();\n  startLoading();\n  clearCatInfoMarkup();\n\n  fetchCatByBreed(event.target.value)\n    .then(makeMarkupSelectedCat)\n    .catch(showError)\n    .finally(endLoading);\n}\n\nfunction startLoading() {\n  loadingMEssageEl.classList.remove('is-hidden');\n}\n\nfunction endLoading() {\n  loadingMEssageEl.classList.add('is-hidden');\n}\n\nfunction showError() {\n  errorMessageEl.classList.remove('is-hidden');\n}\n\nfunction hideError() {\n  errorMessageEl.classList.add('is-hidden');\n}\n\nfunction clearCatInfoMarkup() {\n  catInfoEl.innerHTML = '';\n}\n\nfunction showSelect() {\n  breedSelectEl.classList.remove('is-hidden');\n}\n","const AUTH_TOKEN =\n  'live_Pxq2gg3grBQ8Rn1EX4dkd0kWRM0yCWMRcRebfAL5lAIm5prarRx9AxVW20ei9Z9f';\n\nconst CATS_URL = 'https://api.thecatapi.com/v1';\n\nexport function fetchBreeds() {\n  return fetch(`${CATS_URL}/breeds?api_key=${AUTH_TOKEN}`).then(response =>\n    response.json()\n  );\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${CATS_URL}/images/search?breed_ids=${breedId}&api_key=${AUTH_TOKEN}`\n  )\n    .then(response => response.json())\n    .then(cat => cat[0]);\n}\n\n\n\n"],"names":["$1f0dc3b9307be026$var$catInfoEl","document","querySelector","$1f0dc3b9307be026$var$breedSelectEl","$1f0dc3b9307be026$var$errorMessageEl","$1f0dc3b9307be026$var$loadingMEssageEl","$1f0dc3b9307be026$var$makeMarkupSelectedCat","cat","innerHTML","url","breeds","name","description","temperament","$1f0dc3b9307be026$var$startLoading","classList","remove","$1f0dc3b9307be026$var$endLoading","add","$1f0dc3b9307be026$var$showError","fetch","then","response","json","cats","markupString","id","insertAdjacentHTML","catch","finally","addEventListener","breedId","event","target","value"],"version":3,"file":"index.42da065f.js.map"}